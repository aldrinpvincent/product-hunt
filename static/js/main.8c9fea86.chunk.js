(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(16),r=a.n(o),i=(a(55),a(8)),c=a(9),l=a(11),m=a(10),u=a(12),p=a(119),d=(a(56),a(2)),h=function(e){return s.a.createElement("div",{className:"content-wrapper"},s.a.createElement("h3",{className:"content",itemProp:"name"},e.name),s.a.createElement("p",{className:"tag-line",itemProp:"itemDescription"},e.tagline),s.a.createElement("span",{className:"meta_info"},e.catogory))},g=function(e){return s.a.createElement("div",{className:"thumbnail"},s.a.createElement("img",{alt:e.name,src:e.src}))},f=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={liked:!1},e.handleClick=e.handleClick.bind(Object(d.a)(Object(d.a)(e))),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){e.stopPropagation(),this.setState({liked:!this.state.liked}),this.props.handleLike(e.target.id,!this.state.liked)}},{key:"render",value:function(){var e=this.state.liked?"Unlike":"Like";return s.a.createElement("div",{className:"like-button"},s.a.createElement("button",{id:this.props.id,className:"btn btn-primary",onClick:this.handleClick},e))}}]),t}(n.Component),b=a(120),k=function(e){return s.a.createElement("li",{className:"comment-wrapper"},s.a.createElement("div",{className:"comment-image"},s.a.createElement("img",{alt:e.comment.username,src:e.comment.image_url})),s.a.createElement("div",{className:"content-wrapper"},s.a.createElement("h3",{className:"content",itemProp:"name"},e.comment.username),s.a.createElement("p",{className:"tag-line",itemProp:"itemDescription"},e.comment.body)))},v=a(17),E=a.n(v),j=a(25),O=a(26),C=a.n(O),y=function(){var e=Object(j.a)(E.a.mark(function e(t){var a,n,s,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return a="https://api.producthunt.com/v1/posts/".concat(t,"/comments"),e.prev=3,e.next=6,C.a.get(a,{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer 96f7a2e0834361d6d901e4b156fa5829da97fa5227856382348cc8d7df9aa9e0 "}});case 6:return n=e.sent,e.next=9,n.data;case 9:return s=e.sent,e.next=12,w(s.comments);case 12:return o=e.sent,e.abrupt("return",o);case 16:e.prev=16,e.t0=e.catch(3),console.error("Looks like there was a problem on getting comments. "+e.t0);case 19:case"end":return e.stop()}},e,this,[[3,16]])}));return function(t){return e.apply(this,arguments)}}(),w=function(e){return e.map(function(e){return{id:e.id,body:e.body,username:e.user.name,image_url:e.user.image_url["60px"]}})},N=y,P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={comments:[],commentCount:5},a.loadMoreComments=a.loadMoreComments.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;N(this.props.modalId).then(function(t){e.setState({comments:t})})}},{key:"loadMoreComments",value:function(){var e=this.state.commentCount;this.setState({commentCount:e+5})}},{key:"render",value:function(){for(var e=[],t=this.state.comments,a=this.state.commentCount<t.length,n=this.state.commentCount<t.length?this.state.commentCount:t.length,o=0;o<n;o++){var r=t[o];e.push(s.a.createElement(k,{key:r.id,comment:r}))}e=e.length?e:s.a.createElement("p",{className:"left full-width"},"Loading comments...");var i=a?s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-info load-button",onClick:this.loadMoreComments},"Load more comments...")):null;return s.a.createElement(b.a,{isOpen:this.props.show,toggle:this.props.toggle,autoFocus:!0,size:"lg"},this.props.children,s.a.createElement("div",{className:"comments"},s.a.createElement("p",{className:"comments-label"},"COMMENTS"),s.a.createElement("a",{className:"right",href:this.props.url,target:"_blank",rel:"noopener noreferrer"},"Visit Product Page \u2192"),s.a.createElement("div",{className:"comment-list"},s.a.createElement("ul",null," ",e))),i)}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={modal:!1,modalId:0},a.handleClick=a.handleClick.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){var t=e.currentTarget.id;e.stopPropagation(),e.preventDefault(),this.setState(function(e){return{modal:!e.modal,modalId:t}})}},{key:"render",value:function(){var e=this.state.modal?s.a.createElement(P,{url:this.props.post.url,toggle:this.handleClick,show:this.state.modal,modalId:this.state.modalId},s.a.createElement(g,{name:this.props.post.name,src:this.props.post.image_url}),s.a.createElement(h,{name:this.props.post.name,tagline:this.props.post.tagline,catogory:this.props.post.catogory})):null;return s.a.createElement("li",{className:"post-item",id:this.props.id,onClick:this.handleClick},e,s.a.createElement(g,{name:this.props.post.name,src:this.props.post.image_url}),s.a.createElement(h,{name:this.props.post.name,tagline:this.props.post.tagline,catogory:this.props.post.catogory}),s.a.createElement(f,{id:this.props.id,handleLike:this.props.handleLike}))}}]),t}(n.Component),x=a(117),D=a(118),_=a(48),I=a.n(_),S=function(){var e=Object(j.a)(E.a.mark(function e(t){var a,n,s,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t?"https://api.producthunt.com/v1/posts?day=".concat(t):"https://api.producthunt.com/v1/posts",e.prev=1,e.next=4,C.a.get(a,{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer 96f7a2e0834361d6d901e4b156fa5829da97fa5227856382348cc8d7df9aa9e0 "}});case 4:return n=e.sent,e.next=7,n.data;case 7:return s=e.sent,e.next=10,M(s.posts);case 10:return o=e.sent,e.abrupt("return",o);case 14:e.prev=14,e.t0=e.catch(1),console.error("Looks like there was a problem on getting Posts. "+e.t0);case 17:case"end":return e.stop()}},e,this,[[1,14]])}));return function(t){return e.apply(this,arguments)}}(),M=function(e){var t={};return e.forEach(function(e){t[e.id]={name:e.name,tagline:e.tagline,image_url:e.thumbnail&&e.thumbnail.image_url,catogory:e.topics[0]&&e.topics[0].name,url:e.discussion_url}}),t},T=S,A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).state={modal:!1,modalId:0},a.handleClick=a.handleClick.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){var t=e.currentTarget.id;e.stopPropagation(),e.preventDefault(),this.setState(function(e){return{modal:!e.modal,modalId:t}})}},{key:"render",value:function(){var e=this.state.modal?s.a.createElement(P,{toggle:this.handleClick,show:this.state.modal,modalId:this.state.modalId},s.a.createElement(g,{name:this.props.post.name,src:this.props.post.image_url}),s.a.createElement(h,{name:this.props.post.name,tagline:this.props.post.tagline,catogory:this.props.post.catogory})):null;return s.a.createElement("li",{className:"post-item",id:this.props.post.id,onClick:this.handleClick},e,s.a.createElement("div",{className:"fav-thumbnail"},s.a.createElement("img",{alt:this.props.post.name,src:this.props.post.image_url})),s.a.createElement("div",{className:"content-wrapper"},s.a.createElement("h3",{className:"content",itemProp:"name"},this.props.post.name),s.a.createElement("span",{className:"meta_info"},this.props.post.catogory)))}}]),t}(n.Component),B=function(e){var t=e.likedPosts,a=[];return t.forEach(function(e){a.push(s.a.createElement(A,{key:e.id,post:e}))}),a},z=(a(114),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleDateChange=function(e){a.setState({loading:!0}),T(e).then(function(t){a.setState({posts:t,startDate:e,loading:!1})})},a.state={loading:!0,posts:[],startDate:new Date,modal:!1,modalId:0,liked:[],likedPosts:[]},a.handleDateChange=a.handleDateChange.bind(Object(d.a)(Object(d.a)(a))),a.handleLike=a.handleLike.bind(Object(d.a)(Object(d.a)(a))),a.toggle=a.toggle.bind(Object(d.a)(Object(d.a)(a))),a.updateLikedPosts=a.updateLikedPosts.bind(Object(d.a)(Object(d.a)(a))),a.getLikedPosts=a.getLikedPosts.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;T().then(function(t){e.setState({posts:t,loading:!1})})}},{key:"handleLike",value:function(e,t){var a=this,n=this.state.liked.slice();if(t)n.push(e);else{var s=n.indexOf(e);s>-1&&n.splice(s,1)}this.setState({liked:n},function(){a.updateLikedPosts()})}},{key:"updateLikedPosts",value:function(){var e,t=this;e=this.state.liked.map(function(e){var a=t.state.posts[e];return a.id=e,a}),this.setState({likedPosts:e})}},{key:"getLikedPosts",value:function(){return this.state.likedPosts}},{key:"toggle",value:function(e){this.setState(function(t){return{modal:!t.modal,modalId:e.currentTarget.id}})}},{key:"render",value:function(){var e=[],t=this.state.posts;for(var a in t)if(t.hasOwnProperty(a)){var n=t[a];e.push(s.a.createElement(L,{key:a,id:a,post:n,handleClick:this.toggle,handleLike:this.handleLike}))}return this.state.loading?s.a.createElement("p",null,"Loading posts..."):s.a.createElement(x.a,null,s.a.createElement(D.a,{lg:"8",md:"8",sm:"12",xs:"12"},s.a.createElement("div",{className:"date-pick"},s.a.createElement("span",{className:"date-pick-text"},"View Posts of "),s.a.createElement(I.a,{maxDate:new Date,value:this.state.startDate,onChange:this.handleDateChange})),s.a.createElement("ul",{className:"posts-list"},e)),s.a.createElement(D.a,{lg:"4",md:"4",sm:"12",xs:"12"},s.a.createElement("p",{className:"fav-label"},"Your Favourites"),s.a.createElement("ul",{className:"posts-list"},s.a.createElement(B,{likes:this.state.liked,likedPosts:this.state.likedPosts}))))}}]),t}(n.Component)),F=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"App-header"},s.a.createElement("header",null,s.a.createElement("h2",null,"Product Hunt ")),s.a.createElement("p",null,"The best new products in TEch")),s.a.createElement(p.a,{fluid:!1},s.a.createElement(z,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(115);r.a.render(s.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},50:function(e,t,a){e.exports=a(116)},55:function(e,t,a){},56:function(e,t,a){}},[[50,1,2]]]);
//# sourceMappingURL=main.8c9fea86.chunk.js.map